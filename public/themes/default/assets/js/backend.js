var app=angular.module("app",["ngAnimate","ngMessages","ngSanitize","ui.select","ngDialog","gridshore.c3js.chart"]),template_path="/themes/default/views/segments/";app.config(function(t){t.setForceHtmlReload(!0)}),app.controller("MainController",function(t,e,n){n.search({id:"92938920",cat:"fm"}),t.toggle=!1,t.showForm=!1,t.toggleSidebar=function(){t.toggle=!t.toggle},t.regsign=function(t){history.pushState({},"","/"+t),e.open({closeByNavigation:!0,cache:!1,template:template_path+t+".html",className:"small-oval-theme",controller:"authController",preCloseCallback:function(){return history.back(),!0}})}}),app.controller("authController",["$scope",function(t,e){e.path("/").search({id:"92938920"}),t.token=angular.element(document.getElementById("csrf")).val()}]),function(){"use strict";app.controller("shotsController",["$scope","shotFactory","ngDialog","$window","tagFactory",function(t,e,n,o,a){t.show=function(n){e.show(n).then(function(e){t.shot=e.data})},a.show().then(function(o){t.tagsList=o.data,t.updateShot=function(){e.update(t.shot.id,t.shot).then(function(t){var e=t.data.data,n=document.querySelector("#demo-snackbar-example"),o={message:e.message,timeout:2e3,actionText:"Undo"};n.MaterialSnackbar.showSnackbar(o)})},t.reset=function(){t.shot={}},t.clickToOpen=function(t){n.open({template:template_path+"corp_template.html",className:"mt-large-overlay"})},t.destroy=function(){e.destroy(t.shot.file_name).then(function(t){angular.element(document.querySelector(".__active")).remove()})}})}])}(),app.controller("pagesController",["$scope","pageFactory",function(t,e){t.page={},t.createPage=function(){e.store(t.page).then(function(e){t.message=e})},t.reset=function(){t.page={}}}]),function(){"use strict";app.controller("DashboardController",["$scope","maFactory","$timeout",function(t,e,n){t.ma_get_users=function(t){e.ma_get_users().then(function(t){o(t.data)})},n(function(){t.ma_get_users()},500);var o=function(e){t.ma=e,t.chart=c3.generate({bindto:"#chart1",data:{columns:[e.pageViewsAndVisitors.pageViews,e.pageViewsAndVisitors.visitors]},color:{pattern:["#fff","#e91e63"]},axis:{x:{show:!1},y:{show:!1}}}),t.chart=c3.generate({bindto:"#pie1",data:{columns:[["New",e.nvr_session["new"]],["Returning",e.nvr_session.returning]],type:"pie"},size:{height:220,width:200},color:{pattern:["#03a9f4","#259b24"]}})}}])}(),app.factory("shotFactory",["$http",function(t){return this.show=function(e){return t.get("/admin/shots/"+e)},this.get=function(){return t.get("/admin/shots/")},this.update=function(e,n){return t.put("/admin/shots/"+e,n)},this.destroy=function(e){return t["delete"]("/admin/shots/"+e)},this}]),app.factory("tagFactory",["$http",function(t){return this.show=function(){return t.get("/admin/tags")},this}]),app.factory("pageFactory",["$http",function(t){return this.store=function(e){return t.post("/admin/pages",e)},this}]),app.factory("maFactory",["$http",function(t){return this.ma_get_users=function(){return t.get("/admin/api/ma/users")},this}]);